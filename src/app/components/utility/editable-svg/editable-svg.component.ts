import { Component, Input, OnChanges } from '@angular/core';
import { SafeUrl, DomSanitizer } from '@angular/platform-browser';

@Component({
  selector: 'app-editable-svg',
  templateUrl: './editable-svg.component.html',
  styleUrl: './editable-svg.component.scss',
})
export class EditableSvgComponent implements OnChanges {
  @Input() fillColor: string = 'black'; // Default color
  @Input() svgName: string = '';
  svgUrl: SafeUrl | undefined;
  constructor(private sanitizer: DomSanitizer) {
    this.updateSvgUrl();
  }

  ngOnChanges() {
    this.updateSvgUrl();
  }

  updateSvgUrl() {
    switch (this.svgName) {
      case 'home': {
        const svgTemplate = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24.002" viewBox="0 0 24 24.002">
        <path id="home_1946488" d="M23.855,10.439l0,0L14.062.647a2.209,2.209,0,0,0-3.125,0L1.151,10.432l-.01.01a2.209,2.209
        ,0,0,0,1.47,3.765c.023,0,.045,0,.068,0h.39v7.205A2.589,2.589,0,0,0,5.656,24H9.487a.7.7,0,0,0,.7-.7V17.65a1.181,1.181,
        0,0,1,1.18-1.18H13.63a1.181,1.181,0,0,1,1.18,1.18V23.3a.7.7,0,0,0,.7.7h3.831a2.589,2.589,0,0,0,2.586-2.586V14.21h.362a2.21,
        2.21,0,0,0,1.564-3.771Zm-1,2.129a.8.8,0,0,1-.568.235H21.226a.7.7,0,0,0-.7.7v7.908a1.181,1.181,0,0,1-1.18,1.18H16.216V17.65a2.589,
        2.589,0,0,0-2.586-2.586H11.37A2.589,2.589,0,0,0,8.784,17.65V22.6H5.656a1.181,1.181,0,0,1-1.18-1.18V13.507a.7.7,0,0,0-.7-.7H2.694a.8.8,
        0,0,1-.553-1.37h0l9.791-9.79a.8.8,0,0,1,1.136,0l9.789,9.788,0,0a.805.805,0,0,1,0,1.135Zm0,0" transform="translate(-0.5 0.001)" fill="${this.fillColor}"/>
      </svg>`;
        this.updateSvg(svgTemplate);
        return;
      }
      case 'cancel': {
        const svgTemplate = `<svg id="cancel_446091" xmlns="http://www.w3.org/2000/svg" width="12.982" height="12.982" 
        viewBox="0 0 17.982 17.982">
        <g id="Group_1001" data-name="Group 1001" transform="translate(0 0)">
          <path id="Path_49395" data-name="Path 49395" d="M.214,16.739,7.961,8.992.214,1.246A.729.729,0,0,1,
          1.245.215L8.991,7.961,16.738.215a.729.729,0,1,1,1.031,1.031L10.022,8.992l7.746,7.747a.729.729,0,1,1-1.031,
          1.031L8.991,10.023,1.245,17.77A.729.729,0,1,1,.214,16.739Z" transform="translate(0 -0.001)" 
          fill="${this.fillColor}"/>
        </g>
      </svg>`;
        this.updateSvg(svgTemplate);
        return;
      }
      case 'notif': {
        const svgTemplate = `<svg id="shuttle_2285485" xmlns="http://www.w3.org/2000/svg" width="26.237" height="26.237" viewBox="0 0 26.237 26.237">
        <path id="Path_49417" data-name="Path 49417" d="M26.206,1.959A2.039,2.039,0,0,0,24.278.031,20.253,20.253,0,0,0,14.125,2.063,19.933,19.933,0,0,0,8.3,6.89l-.062.075-3.842.3a2.028,2.028,0,0,0-1.546.909L.234,12.136A1.4,1.4,0,0,0,1.19,14.3l3.237.5c-.011.063-.023.126-.033.189a2.038,2.038,0,0,0,.571,1.773l4.509,4.509a2.043,2.043,0,0,0,1.442.6,2.01,2.01,0,0,0,.331-.027l.189-.033.5,3.237A1.4,1.4,0,0,0,14.1,26l3.965-2.621a2.028,2.028,0,0,0,.909-1.546l.3-3.842.075-.062a19.931,19.931,0,0,0,4.826-5.821A20.255,20.255,0,0,0,26.206,1.959ZM17.218,22.1l-3.793,2.508-.489-3.155a17.22,17.22,0,0,0,4.7-2.237l-.193,2.5a.5.5,0,0,1-.225.382Zm-6.656-1.915L6.053,15.675a.5.5,0,0,1-.142-.433,13.223,13.223,0,0,1,.6-2.284l6.766,6.766a13.279,13.279,0,0,1-2.282.6.5.5,0,0,1-.433-.142ZM4.519,8.794l2.5-.193a17.218,17.218,0,0,0-2.237,4.7L1.63,12.812,4.137,9.019A.5.5,0,0,1,4.519,8.794Zm13.844,7.958A17.624,17.624,0,0,1,14.8,19.079L7.158,11.432A17.929,17.929,0,0,1,9.485,7.874a18.344,18.344,0,0,1,5.346-4.446,18.7,18.7,0,0,1,9.363-1.863.5.5,0,0,1,.477.477,18.7,18.7,0,0,1-1.863,9.363A18.344,18.344,0,0,1,18.363,16.752Z" transform="translate(0 0)" fill="#730ba6"/>
        <path id="Path_49418" data-name="Path 49418" d="M279.566,94a3.84,3.84,0,1,0-2.718-1.124A3.832,3.832,0,0,0,279.566,94Zm-1.631-5.472a2.306,2.306,0,1,1-.675,1.631A2.3,2.3,0,0,1,277.936,88.529Z" transform="translate(-261.594 -81.895)" fill="#730ba6"/>
        <path id="Path_49419" data-name="Path 49419" d="M1.07,347.011a.766.766,0,0,0,.543-.225l2.51-2.51a.769.769,0,1,0-1.087-1.087L.527,345.7a.769.769,0,0,0,.543,1.312Z" transform="translate(-0.286 -325.389)" fill="#730ba6"/>
        <path id="Path_49420" data-name="Path 49420" d="M6.138,388.071a.769.769,0,0,0-1.087,0L.226,392.9a.769.769,0,1,0,1.087,1.087l4.825-4.825A.769.769,0,0,0,6.138,388.071Z" transform="translate(0 -367.971)" fill="#730ba6"/>
        <path id="Path_49421" data-name="Path 49421" d="M92.8,432.952l-2.51,2.51a.769.769,0,1,0,1.087,1.087l2.51-2.51a.769.769,0,0,0-1.087-1.087Z" transform="translate(-85.447 -410.552)" fill="#730ba6"/>
      </svg>`;
        this.updateSvg(svgTemplate);
        return;
      }
      case 'userProfile': {
        const svgTemplate = `<svg xmlns="http://www.w3.org/2000/svg" width="20.023" height="24" viewBox="0 0 20.023 24">
        <g id="user_1077063" transform="translate(0 0)">
          <path id="Path_49366" data-name="Path 49366" d="M9.86,11.561a5.593,5.593,0,0,0,4.087-1.694A5.594,5.594,0,0,0,15.641,
          5.78a5.594,5.594,0,0,0-1.694-4.087A5.594,5.594,0,0,0,9.86,0,5.593,5.593,0,0,0,5.773,1.693,5.593,5.593,0,0,0,4.08,5.78,5.594,
          5.594,0,0,0,5.773,9.868,5.6,5.6,0,0,0,9.86,11.561ZM6.768,2.688A4.178,4.178,0,0,1,9.86,1.406a4.179,4.179,0,0,1,3.093,1.281A4.179,
          4.179,0,0,1,14.234,5.78a4.179,4.179,0,0,1-1.282,3.093A4.179,4.179,0,0,1,9.86,10.154,4.179,4.179,0,0,1,6.768,8.873,4.178,4.178,0,0,1,
          5.486,5.78,4.179,4.179,0,0,1,6.768,2.688Zm0,0" fill="${this.fillColor}"/>
          <path id="Path_49367" data-name="Path 49367" d="M19.975,18.455a14.278,14.278,0,0,0-.194-1.516,11.948,11.948,0,0,0-.373-1.525,7.532,7.532,0,0,
          0-.627-1.422,5.36,5.36,0,0,0-.945-1.232,4.167,4.167,0,0,0-1.358-.853,4.692,4.692,0,0,0-1.733-.314,1.759,1.759,0,0,0-.94.4c-.282.184-.611.4-.979.631a5.608,
          5.608,0,0,1-1.266.558,4.917,4.917,0,0,1-3.1,0A5.591,5.591,0,0,1,7.2,12.623c-.364-.233-.694-.445-.98-.631a1.757,1.757,0,0,0-.939-.4,4.686,4.686,0,0,0-1.733.314,
          4.164,4.164,0,0,0-1.358.853,5.362,5.362,0,0,0-.945,1.232,7.546,7.546,0,0,0-.627,1.422,11.976,11.976,0,0,0-.373,1.525,14.181,14.181,0,0,0-.194,1.517C.016,18.914,
          0,19.391,0,19.873a3.985,3.985,0,0,0,1.184,3.015A4.26,4.26,0,0,0,4.234,24H15.79a4.261,4.261,0,0,0,3.05-1.112,3.984,3.984,0,0,0,1.184-3.015c0-.484-.016-.961-.049-1.418Zm-2.1,
          3.414a2.869,2.869,0,0,1-2.08.725H4.234a2.869,2.869,0,0,1-2.08-.725,2.6,2.6,0,0,1-.747-2c0-.45.015-.894.044-1.32a12.79,12.79,0,0,1,.176-1.366,10.563,10.563,0,0,1,.328-1.344,6.143,
          6.143,0,0,1,.51-1.156,3.974,3.974,0,0,1,.695-.91,2.764,2.764,0,0,1,.9-.562A3.236,3.236,0,0,1,5.17,13c.049.026.137.076.279.169.289.188.622.4.991.639a6.968,
          6.968,0,0,0,1.59.71,6.323,6.323,0,0,0,3.963,0,6.976,6.976,0,0,0,1.59-.711c.377-.241.7-.45.99-.638.142-.092.23-.143.279-.169a3.239,3.239,0,0,1,1.108.214
          ,2.768,2.768,0,0,1,.9.562,3.963,3.963,0,0,1,.695.91,6.123,6.123,0,0,1,.51,1.156,10.538,10.538,0,0,1,.328,1.344,12.9,12.9,0,0,1,.176,
          1.366h0c.03.425.045.868.045,1.319a2.6,2.6,0,0,1-.747,2Zm0,0" fill="${this.fillColor}"/>
        </g>
      </svg>`;
        this.updateSvg(svgTemplate);
        return;
      }
      case 'settings': {
        const svgTemplate = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <g id="settings_2099058" transform="translate(0 0)">
          <path id="Path_49384" data-name="Path 49384" d="M12.753,24H11.247a2.212,2.212,0,0,
          1-2.209-2.209v-.51a9.689,9.689,0,0,1-1.5-.625l-.361.361a2.209,2.209,0,0,
          1-3.125,0L2.982,19.953a2.209,2.209,0,0,1,0-3.125l.361-.361a9.69,9.69,0,0,
          1-.625-1.5h-.51A2.212,2.212,0,0,1,0,12.753V11.247A2.212,2.212,0,0,1,2.209,9.038h.51a9.692,
          9.692,0,0,1,.625-1.5l-.361-.361a2.209,2.209,0,0,1,0-3.125L4.047,2.982a2.209,2.209,0,0,1,3.125,
          0l.361.361a9.7,9.7,0,0,1,1.5-.625v-.51A2.212,2.212,0,0,1,11.247,0h1.506a2.212,2.212,0,0,1,2.209,
          2.209v.51a9.689,9.689,0,0,1,1.5.625l.361-.361a2.209,2.209,0,0,1,3.125,0l1.065,1.065a2.209,2.209,
          0,0,1,0,3.125l-.361.361a9.69,9.69,0,0,1,.625,1.5h.51A2.212,2.212,0,0,1,24,11.247v1.506a2.212,
          2.212,0,0,1-2.209,2.209h-.51a9.692,9.692,0,0,1-.625,1.5l.361.361a2.209,2.209,0,0,1,0,3.125l-1.065,
          1.065a2.209,2.209,0,0,1-3.125,0l-.361-.361a9.7,9.7,0,0,1-1.5.625v.51A2.212,2.212,0,0,1,
          12.753,24ZM7.768,19.18a8.288,8.288,0,0,0,2.148.892.7.7,0,0,1,.527.681v1.038a.8.8,0,0,0,
          .8.8h1.506a.8.8,0,0,0,.8-.8V20.752a.7.7,0,0,1,.527-.681,8.288,8.288,0,0,0,2.148-.892.7.7,0,0,1,
          .855.108l.735.735a.8.8,0,0,0,1.135,0l1.065-1.065a.8.8,0,0,0,0-1.136l-.736-.736a.7.7,0,0,1-.108-.855,
          8.287,8.287,0,0,0,.892-2.148.7.7,0,0,1,.681-.527h1.038a.8.8,0,0,0,.8-.8V11.247a.8.8,0,0,
          0-.8-.8H20.753a.7.7,0,0,1-.681-.527,8.288,8.288,0,0,0-.892-2.148.7.7,0,0,1,.108-.855l.735-.735a.8.8,0,
          0,0,0-1.136L18.958,3.977a.8.8,0,0,0-1.136,0l-.736.736a.7.7,0,0,1-.855.108,8.288,8.288,0,0,0-2.148-.892.7.7,0,0,
          1-.527-.681V2.209a.8.8,0,0,0-.8-.8H11.247a.8.8,0,0,0-.8.8V3.248a.7.7,0,0,1-.527.681,8.288,8.288,0,0,
          0-2.148.892.7.7,0,0,1-.855-.108l-.735-.735a.8.8,0,0,0-1.135,0L3.977,5.042a.8.8,0,0,0,0,1.136l.736.736a.7.7,0,0,1,
          .108.855,8.287,8.287,0,0,0-.892,2.148.7.7,0,0,1-.681.527H2.209a.8.8,0,0,0-.8.8v1.506a.8.8,0,0,0,
          .8.8H3.248a.7.7,0,0,1,.681.527,8.288,8.288,0,0,0,.892,2.148.7.7,0,0,1-.108.855l-.735.735a.8.8,0,0,0,0,
          1.136l1.065,1.065a.8.8,0,0,0,1.136,0l.736-.736a.706.706,0,0,1,.855-.108Z" fill="${this.fillColor}"/>
          <path id="Path_49385" data-name="Path 49385" d="M149.822,155.044a5.222,5.222,0,1,1,5.222-5.222A5.228,
          5.228,0,0,1,149.822,155.044Zm0-9.038a3.816,3.816,0,1,0,3.816,3.816A3.82,3.82,0,0,0,149.822,146.006Z" 
          transform="translate(-137.822 -137.822)" fill="${this.fillColor}"/>
        </g>
      </svg>`;
        this.updateSvg(svgTemplate);
        return;
      }
      case 'delete': {
        const svgTemplate = `<svg xmlns="http://www.w3.org/2000/svg" width="15.765" height="17.937" 
        viewBox="0 0 15.765 17.937">
        <g id="bin_484662" transform="translate(-31)">
          <g id="Group_1047" data-name="Group 1047" transform="translate(31)">
            <g id="Group_1046" data-name="Group 1046">
              <path id="Path_49425" data-name="Path 49425" d="M45.188,2.1H42.561V1.576A1.578,1.578,0,0,
              0,40.984,0h-4.2A1.578,1.578,0,0,0,35.2,1.576V2.1H32.576a1.576,1.576,0,0,0-.49,3.074l.937,
              11.315a1.586,1.586,0,0,0,1.571,1.446H43.17a1.586,1.586,0,0,0,1.571-1.446l.937-11.314a1.576,
              1.576,0,0,0-.49-3.074Zm-8.933-.525a.526.526,0,0,1,.525-.525h4.2a.526.526,0,0,1,
              .525.525V2.1H36.255ZM43.694,16.4a.529.529,0,0,1-.524.482H34.594a.528.528,0,0,
              1-.524-.482L33.147,5.255h11.47ZM45.188,4.2H32.576a.525.525,0,1,1,0-1.051H45.188a.525.525,
              0,1,1,0,1.051Z" transform="translate(-31)" fill="${this.fillColor}"/>
            </g>
          </g>
          <g id="Group_1049" data-name="Group 1049" transform="translate(35.204 6.306)">
            <g id="Group_1048" data-name="Group 1048">
              <path id="Path_49426" data-name="Path 49426" d="M152.574,188.969l-.525-8.478a.525.525,0,
              0,0-1.049.065l.525,8.478a.526.526,0,0,0,1.049-.065Z" transform="translate(-150.999 -179.999)"
               fill="${this.fillColor}"/>
            </g>
          </g>
          <g id="Group_1051" data-name="Group 1051" transform="translate(38.357 6.306)">
            <g id="Group_1050" data-name="Group 1050">
              <path id="Path_49427" data-name="Path 49427" d="M241.525,180a.525.525,0,0,0-.525.525V189a.525.525,
              0,0,0,1.051,0v-8.478A.525.525,0,0,0,241.525,180Z" transform="translate(-241 -180)" fill="${this.fillColor}"/>
            </g>
          </g>
          <g id="Group_1053" data-name="Group 1053" transform="translate(40.984 6.306)">
            <g id="Group_1052" data-name="Group 1052">
              <path id="Path_49428" data-name="Path 49428" d="M317.082,180a.526.526,0,0,0-.557.492L316,
              188.971a.525.525,0,0,0,1.049.065l.525-8.478A.525.525,0,0,0,317.082,180Z" 
              transform="translate(-315.999 -180)" fill="${this.fillColor}"/>
            </g>
          </g>
        </g>
      </svg>`;
        this.updateSvg(svgTemplate);
        return;
      }
      case 'logout': {
        const svgTemplate = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="21.9" viewBox="0 0 24 21.9">
        <g id="logout_450387" transform="translate(0 -22.397)">
          <g id="Group_987" data-name="Group 987" transform="translate(6.994 30.833)">
            <g id="Group_986" data-name="Group 986">
              <path id="Path_49386" data-name="Path 49386" d="M165.9,204.3l-2.568-1.81a.7.7,0,0,
              0-1.108.575v1.107H149.9a.7.7,0,1,0,0,1.406h12.33v1.107a.7.7,0,0,0,1.108.575l2.568-1.81A.7.7,0,
              0,0,165.9,204.3Z" transform="translate(-149.195 -202.358)" fill="${this.fillColor}"/>
            </g>
          </g>
          <g id="Group_989" data-name="Group 989" transform="translate(0 22.397)">
            <g id="Group_988" data-name="Group 988" transform="translate(0 0)">
              <path id="Path_49387" data-name="Path 49387" d="M20.178,37.862a.7.7,0,0,0-.961.257,9.544,
              9.544,0,1,1,0-9.543.7.7,0,0,0,1.217-.7,10.95,10.95,0,1,0,0,10.951A.7.7,0,0,0,20.178,37.862Z"
               transform="translate(0 -22.397)" fill="${this.fillColor}"/>
            </g>
          </g>
        </g>
      </svg>
      `;
        this.updateSvg(svgTemplate);
        return;
      }

      case 'markRead': {
        const svgTemplate = `<svg id="checked_150499" xmlns="http://www.w3.org/2000/svg" width="16.788" height="16.765" viewBox="0 0 16.788 16.765">
  <path id="Path_49429" data-name="Path 49429" d="M64.3,72.112l-5.58,5.572-1.7-1.7a.6.6,0,1,0-.848.847l2.123,2.12a.6.6,0,0,0,.848,0l6-6a.6.6,0,1,0-.848-.847Z" transform="translate(-52.268 -67.151)" fill="${this.fillColor}"/>
  <path id="Path_49430" data-name="Path 49430" d="M8.394,0a8.382,8.382,0,1,0,8.394,8.382A8.4,8.4,0,0,0,8.394,0Zm0,15.567a7.185,7.185,0,1,1,7.195-7.185A7.2,7.2,0,0,1,8.394,15.567Z" fill="${this.fillColor}"/>
</svg>`;
        this.updateSvg(svgTemplate);
        return;
      }

      default:
        this.updateSvg('');
    }
  }
  updateSvg(svg: string) {
    const svgBlob = new Blob([svg], { type: 'image/svg+xml' });
    this.svgUrl = URL.createObjectURL(svgBlob);
  }
}
